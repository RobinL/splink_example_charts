<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.8.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}, "title": {"anchor": "middle"}}, "hconcat": [{"mark": {"type": "point", "filled": false, "opacity": 0.7, "size": 100}, "encoding": {"color": {"type": "nominal", "field": "estimate_name"}, "row": {"type": "nominal", "field": "column_name", "header": {"labelAlign": "left", "labelAnchor": "middle", "labelAngle": 0}, "sort": {"field": "gamma_index"}, "title": null}, "shape": {"type": "nominal", "field": "estimate_name", "scale": {"range": ["circle", "square", "triangle", "diamond"]}}, "tooltip": [{"type": "nominal", "field": "column_name"}, {"type": "nominal", "field": "estimate_name"}, {"type": "quantitative", "field": "m_probability"}, {"type": "quantitative", "field": "u_probability"}], "x": {"type": "quantitative", "field": "u_probability", "scale": {"domain": [0, 1]}}, "y": {"type": "nominal", "axis": {"grid": true, "title": null}, "field": "level_name"}}, "resolve": {"scale": {"y": "independent"}}, "selection": {"selector076": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "title": "Non-matches", "transform": [{"filter": "(datum.gamma_index !== 1000000)"}]}, {"mark": {"type": "point", "filled": false, "opacity": 0.7, "size": 100}, "encoding": {"color": {"type": "nominal", "field": "estimate_name"}, "row": {"type": "nominal", "field": "column_name", "header": {"labels": false}, "sort": {"field": "gamma_index"}, "title": null}, "shape": {"type": "nominal", "field": "estimate_name", "scale": {"range": ["circle", "square", "triangle", "diamond", "cross"]}}, "tooltip": [{"type": "nominal", "field": "column_name"}, {"type": "nominal", "field": "estimate_name"}, {"type": "quantitative", "field": "m_probability"}, {"type": "quantitative", "field": "u_probability"}], "x": {"type": "quantitative", "field": "m_probability", "scale": {"domain": [0, 1]}}, "y": {"type": "nominal", "axis": {"grid": true, "title": null}, "field": "level_name"}}, "resolve": {"scale": {"y": "independent"}}, "selection": {"selector076": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "title": "Matches", "transform": [{"filter": "(datum.gamma_index !== 1000001)"}]}], "data": {"name": "data-e22fee91545d39b160be2a2ab6af2ed4"}, "title": {"text": "Comparison of parameter estimates between jobs", "subtitle": "Use mousewheeel to zoom"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-e22fee91545d39b160be2a2ab6af2ed4": [{"m_probability": 0.06355687230825424, "u_probability": 0.9972811916144119, "bayes_factor": 0.06373014235370021, "log2_bayes_factor": -3.9718803064803723, "gamma_column_name": "gamma_surname_std", "level_name": "level_0", "gamma_index": 0, "column_name": "surname_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.13808776438236237, "u_probability": 0.0018458589872244128, "bayes_factor": 74.80948725666343, "log2_bayes_factor": 6.225149337596589, "gamma_column_name": "gamma_surname_std", "level_name": "level_1", "gamma_index": 1, "column_name": "surname_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.008427422493696213, "u_probability": 0.00043107586588394647, "bayes_factor": 19.54974323699446, "log2_bayes_factor": 4.289077754432913, "gamma_column_name": "gamma_surname_std", "level_name": "level_2", "gamma_index": 2, "column_name": "surname_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.7899279594421387, "u_probability": 0.0004418735324796065, "bayes_factor": 1787.678829753388, "log2_bayes_factor": 10.8038718532069, "gamma_column_name": "gamma_surname_std", "level_name": "level_3", "gamma_index": 3, "column_name": "surname_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.1673450917005539, "u_probability": 0.9865413073278385, "bayes_factor": 0.16962806367817226, "log2_bayes_factor": -2.559553222274089, "gamma_column_name": "gamma_forename1_std", "level_name": "level_0", "gamma_index": 0, "column_name": "forename1_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.16003316640853882, "u_probability": 0.007948541824533976, "bayes_factor": 20.133650918786174, "log2_bayes_factor": 4.3315369007700815, "gamma_column_name": "gamma_forename1_std", "level_name": "level_1", "gamma_index": 1, "column_name": "forename1_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.00523568969219923, "u_probability": 0.0009669396446855789, "bayes_factor": 5.414701652761095, "log2_bayes_factor": 2.436881848278684, "gamma_column_name": "gamma_forename1_std", "level_name": "level_2", "gamma_index": 2, "column_name": "forename1_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.6673860549926758, "u_probability": 0.004543211202941987, "bayes_factor": 146.89743117390304, "log2_bayes_factor": 7.19866535717964, "gamma_column_name": "gamma_forename1_std", "level_name": "level_3", "gamma_index": 3, "column_name": "forename1_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.29880625009536743, "u_probability": 0.988905086717806, "bayes_factor": 0.30215867438513316, "log2_bayes_factor": -1.726621735299623, "gamma_column_name": "gamma_forename2_std", "level_name": "level_0", "gamma_index": 0, "column_name": "forename2_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.06186195835471153, "u_probability": 0.0046983226891593845, "bayes_factor": 13.166817702293617, "log2_bayes_factor": 3.718834796602801, "gamma_column_name": "gamma_forename2_std", "level_name": "level_1", "gamma_index": 1, "column_name": "forename2_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.05674424394965172, "u_probability": 0.003958574088614007, "bayes_factor": 14.3345160856947, "log2_bayes_factor": 3.8414212968112826, "gamma_column_name": "gamma_forename2_std", "level_name": "level_2", "gamma_index": 2, "column_name": "forename2_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.5825875401496887, "u_probability": 0.0024380165044206752, "bayes_factor": 238.9596375140717, "log2_bayes_factor": 7.900623144064992, "gamma_column_name": "gamma_forename2_std", "level_name": "level_3", "gamma_index": 3, "column_name": "forename2_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.29084834456443787, "u_probability": 0.988905086717806, "bayes_factor": 0.29411148599687037, "log2_bayes_factor": -1.7655649676935004, "gamma_column_name": "gamma_forename2_std", "level_name": "level_0", "gamma_index": 0, "column_name": "forename2_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.04849961772561073, "u_probability": 0.0046983226891593845, "bayes_factor": 10.322751529501307, "log2_bayes_factor": 3.367755667283077, "gamma_column_name": "gamma_forename2_std", "level_name": "level_1", "gamma_index": 1, "column_name": "forename2_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.054775044322013855, "u_probability": 0.003958574088614007, "bayes_factor": 13.837064330704981, "log2_bayes_factor": 3.7904659883837106, "gamma_column_name": "gamma_forename2_std", "level_name": "level_2", "gamma_index": 2, "column_name": "forename2_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.6058769822120667, "u_probability": 0.0024380165044206752, "bayes_factor": 248.51225621872317, "log2_bayes_factor": 7.957173194680763, "gamma_column_name": "gamma_forename2_std", "level_name": "level_3", "gamma_index": 3, "column_name": "forename2_std", "max_gamma_index": 3, "num_levels": 4, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.07673575729131699, "u_probability": 0.9604423153449854, "bayes_factor": 0.07989626869340294, "log2_bayes_factor": -3.645728061630521, "gamma_column_name": "gamma_occupation", "level_name": "level_0", "gamma_index": 0, "column_name": "occupation", "max_gamma_index": 1, "num_levels": 2, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.9232642650604248, "u_probability": 0.03955768465501463, "bayes_factor": 23.33969424935453, "log2_bayes_factor": 4.5447137567111495, "gamma_column_name": "gamma_occupation", "level_name": "level_1", "gamma_index": 1, "column_name": "occupation", "max_gamma_index": 1, "num_levels": 2, "level_proportion": null, "estimate_name": "postcode_dob"}, {"m_probability": 0.015286620706319809, "u_probability": 0.4716630516869235, "bayes_factor": 0.03241004494977197, "log2_bayes_factor": -4.947415168231339, "gamma_column_name": "gamma_dob", "level_name": "level_0", "gamma_index": 0, "column_name": "dob", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.002689703833311796, "u_probability": 0.056529062998284245, "bayes_factor": 0.04758090247123738, "log2_bayes_factor": -4.393473554026155, "gamma_column_name": "gamma_dob", "level_name": "level_1", "gamma_index": 1, "column_name": "dob", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.009273078292608261, "u_probability": 0.46724005927640677, "bayes_factor": 0.019846496695872035, "log2_bayes_factor": -5.654971824499671, "gamma_column_name": "gamma_dob", "level_name": "level_2", "gamma_index": 2, "column_name": "dob", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.29795193672180176, "u_probability": 0.004270734210057826, "bayes_factor": 69.76597513844521, "log2_bayes_factor": 6.124451700561951, "gamma_column_name": "gamma_dob", "level_name": "level_3", "gamma_index": 3, "column_name": "dob", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.1632627248764038, "u_probability": 0.0002786493533007708, "bayes_factor": 585.9074243039063, "log2_bayes_factor": 9.194528920892399, "gamma_column_name": "gamma_dob", "level_name": "level_4", "gamma_index": 4, "column_name": "dob", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.5115359425544739, "u_probability": 1.8442475026868403e-05, "bayes_factor": 27736.838022512125, "log2_bayes_factor": 14.759515710496823, "gamma_column_name": "gamma_dob", "level_name": "level_5", "gamma_index": 5, "column_name": "dob", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.03361062332987785, "u_probability": 0.7848280546106594, "bayes_factor": 0.04282546110886867, "log2_bayes_factor": -4.54538740964416, "gamma_column_name": "gamma_custom_postcode_distance_comparison", "level_name": "level_0", "gamma_index": 0, "column_name": "custom_postcode_distance_comparison", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.002923530526459217, "u_probability": 0.1550369685599911, "bayes_factor": 0.018856989746467892, "log2_bayes_factor": -5.7287568013791, "gamma_column_name": "gamma_custom_postcode_distance_comparison", "level_name": "level_1", "gamma_index": 1, "column_name": "custom_postcode_distance_comparison", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.1852741688489914, "u_probability": 0.001640004080340632, "bayes_factor": 112.97177310102155, "log2_bayes_factor": 6.819818538572609, "gamma_column_name": "gamma_custom_postcode_distance_comparison", "level_name": "level_2", "gamma_index": 2, "column_name": "custom_postcode_distance_comparison", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.06985760480165482, "u_probability": 0.052959590326011066, "bayes_factor": 1.319073738516899, "log2_bayes_factor": 0.399525216006533, "gamma_column_name": "gamma_custom_postcode_distance_comparison", "level_name": "level_3", "gamma_index": 3, "column_name": "custom_postcode_distance_comparison", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.09465742111206055, "u_probability": 0.0055246012356815295, "bayes_factor": 17.133801531357648, "log2_bayes_factor": 4.098773377188794, "gamma_column_name": "gamma_custom_postcode_distance_comparison", "level_name": "level_4", "gamma_index": 4, "column_name": "custom_postcode_distance_comparison", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}, {"m_probability": 0.6136766672134399, "u_probability": 1.0781187316298693e-05, "bayes_factor": 56921.0652972981, "log2_bayes_factor": 15.796675042199986, "gamma_column_name": "gamma_custom_postcode_distance_comparison", "level_name": "level_5", "gamma_index": 5, "column_name": "custom_postcode_distance_comparison", "max_gamma_index": 5, "num_levels": 6, "level_proportion": null, "estimate_name": "name_occ"}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>